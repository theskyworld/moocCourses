### é¡¹ç›®åˆ†æ

â€‹ ![image-20230826080141526](C:\Users\ycx\AppData\Roaming\Typora\typora-user-images\image-20230826080141526.png)

### ä¸šåŠ¡é—­ç¯

é—®å·åˆ›å»ºè€… â†’ æ–°å»ºé—®å· â†’ ç¼–è¾‘é—®å· â†’ å‘å¸ƒé—®å· â†’ é—®å·H5é¡µé¢
   ğŸ‘†                                           â¬‡
åˆ†æç»“æœ   ğŸ‘ˆ  åå°ç»Ÿè®¡å¹¶åˆ†æé¡µé¢  ğŸ‘ˆ ç”¨æˆ·å¡«å†™é¡µé¢å¹¶æäº¤

### é¡¹ç›®ç»„ä»¶åˆ†æ

![image-20230826080407619](C:\Users\ycx\AppData\Roaming\Typora\typora-user-images\image-20230826080407619.png)

### é¡¹ç›®é¡µé¢

![image-20230828141801145](C:\Users\ycx\AppData\Roaming\Typora\typora-user-images\image-20230828141801145.png)

è·¯ç”±è®¾è®¡

- é¦–é¡µ `'/'`
- ç™»å½•é¡µ `'/login'`
- æ³¨å†Œé¡µ `'/register'`
- é—®å·ç®¡ç†
  - æˆ‘çš„é—®å· `'/manage/list'`
  - æ˜Ÿæ ‡é—®å· `'/manage/star'`
  - å›æ”¶ç«™ `'/manage/trash'`
- é—®å·è¯¦æƒ…
  - ç¼–è¾‘é—®å· `/question/edit/:id`
  - é—®å·ç»Ÿè®¡ `/question/stat/:id`
- 404

### API è®¾è®¡

è®¾è®¡æ—¶å¯¹åº”çš„å‰ç«¯éœ€æ±‚

- è·Ÿç”¨æˆ·ç›¸å…³
  - æ³¨å†Œ
  - ç™»å½•
  - è·å–ç”¨æˆ·ä¿¡æ¯
- è·Ÿé—®å·ç›¸å…³
  - åˆ›å»ºé—®å·
  - è·å–å•ä¸ªé—®å·
  - æ›´æ–°é—®å·
  - åˆ é™¤é—®å·
  - æŸ¥è¯¢é—®å·åˆ—è¡¨
  - å¤åˆ¶é—®å·

#### ç”¨æˆ·åŠŸèƒ½

##### è·å–ç”¨æˆ·ä¿¡æ¯

`errno`ä¸ºé”™è¯¯ç¼–å·ï¼Œå…¶å€¼ä¸ºé”™è¯¯ç¼–ç åº“ä¸­å®šä¹‰çš„å€¼

- method `get`
- path `/api/user/info`
- response `{ errno: 0, data: {...} }` æˆ– `{ errno: 10001, msg: 'xxx' }`

##### æ³¨å†Œ

- method `post`
- path `/api/user/register`
- request body `{ username, password, nickname }`
- response `{ errno: 0 }`

##### ç™»å½•

- method `post`
- path `/api/user/login`
- request body `{ username, password }`
- response `{ errno: 0, data: { token } }` â€”â€” **JWT** ä½¿ç”¨ token

#### é—®å·åŠŸèƒ½

##### åˆ›å»ºé—®å·

- method `post`
- path `/api/question`
- request body - æ—  ï¼ˆç‚¹å‡»ä¸€ä¸ªæŒ‰é’®å³å¯åˆ›å»ºï¼Œtitle è‡ªåŠ¨ç”Ÿæˆï¼‰
- response `{ errno: 0, data: { id } }`

##### è·å–å•ä¸ªé—®å·

- method `get`
- path `/api/question/:id`
- response `{ errno: 0, data: { id, title ... } }`

##### è·å–é—®å·åˆ—è¡¨

- method `get`
- path `/api/question-list`
- response: `{ errno: 0, data: { list: [ ... ], total } }`

##### æ›´æ–°é—®å·ä¿¡æ¯

- method `patch`
- path `/api/question/:id`
- request body `{ title, isStar ... }` ï¼ˆä¹‹å‰å¿˜è®°äº†ï¼Œç°è¡¥ä¸Šï¼‰
- response: `{ errno: 0 }`

PSï¼šåˆ é™¤æ˜¯`å‡åˆ é™¤`ï¼Œå®é™…æ˜¯æ›´æ–° `isDeleted` å±æ€§

##### æ‰¹é‡å½»åº•åˆ é™¤é—®å·

- method `delete`
- path `/api/question`
- request body `{ ids: [ ... ] }`
- response: `{ errno: 0 }`

##### å¤åˆ¶é—®å·

- method `post`
- path `/api/question/duplicate/:id`
- response: `{ errno: 0, data: { id } }`

#### å°ç»“

- ä½¿ç”¨ Restful API
- ç”¨æˆ·éªŒè¯ä½¿ç”¨ JWT ï¼ˆåé¢å†è®²ï¼‰
- ç»Ÿä¸€è¿”å›æ ¼å¼ `{ errno, data, msg }`

### è§£è€¦

#### ç»„ä»¶ä¹‹é—´çš„è§£è€¦

- æœç´¢æ¡†ä¸åˆ—è¡¨å±•ç¤ºç»„ä»¶ä¹‹é—´çš„è§£è€¦ï¼šæœç´¢æ¡†çš„æœç´¢ç»“æœä¸æ—¶æ¥æºäºåˆ—è¡¨å±•ç¤ºç»„ä»¶ä¹‹ä¸­å·²æœ‰æ•°æ®çš„è¿‡æ»¤ç»“æœï¼Œè€Œæ˜¯é€šè¿‡è¾“å…¥æœç´¢å…³é”®å­—ä¹‹åï¼Œå°†å…³é”®å­—ä¿¡æ¯æ·»åŠ åˆ°urlä¸­ï¼Œåˆ°åç«¯è¯·æ±‚åˆ°å¯¹åº”çš„æœç´¢ç»“æœæ•°æ®ã€‚å½“éœ€è¦urlä¸­ç›¸å…³çš„æ•°æ®æ—¶ï¼Œå¯é€šè¿‡`useSearchParams`å‡½æ•°è¿›è¡Œè·å–
- åˆ†é¡µä¸åˆ—è¡¨å±•ç¤ºç»„ä»¶ä¹‹é—´çš„è§£è€¦ï¼šç±»ä¼¼äºæœç´¢æ¡†ï¼Œå°†å½“å‰é¡µæ•°ä¿¡æ¯æ·»åŠ åˆ°urlä¸­ï¼Œå‘åç«¯è¯·æ±‚åˆ°å¯¹åº”é¡µçš„æ•°æ®
- åŒæ—¶æ˜Ÿæ ‡é—®å·å’Œå›æ”¶ç«™ç»„ä»¶ä¸åˆ—è¡¨ç»„ä»¶ä¹‹é—´çš„è§£è€¦ä¹Ÿä¸ä¸Šé¢ç±»ä¼¼ï¼Œå°†`isStar`å’Œ`isDeleted`çš„ä¿¡æ¯ä¼ é€’ç»™åç«¯ï¼Œè¿›è¡Œæ•°æ®çš„è¯·æ±‚

#### ç»„ä»¶æ•°æ®ä¹‹é—´çš„è§£è€¦

- ä½¿ç”¨çŠ¶æ€æå‡ï¼Œå¤šä¸ªå­ç»„ä»¶çš„æ•°æ®å­˜å‚¨åœ¨å…±åŒçš„çˆ¶ç»„ä»¶ä¸­ï¼Œé€šè¿‡propså‘å­ç»„ä»¶ä¸­ä¼ é€’æ•°æ®
- ä½¿ç”¨çŠ¶æ€ç®¡ç†
  - ä½¿ç”¨[Context](https://react.dev/learn/passing-data-deeply-with-context)
    - ç±»ä¼¼äºVueä¸­çš„`provide/inject`
    - å¤šç”¨äºä¾‹å¦‚ä¸»é¢˜åˆ‡æ¢ã€è¯­è¨€åˆ‡æ¢ä¸­
  - ä½¿ç”¨[redux](https://redux.js.org/)
    - å¯¹æ•°æ®(state)è¿›è¡Œç»Ÿè®¡çš„ç®¡ç†(dispatch action)

### ç¼–è¾‘ç•Œé¢åˆ†æ

#### ç•Œé¢çš„æ¨¡å—

- é¡¶éƒ¨æ 
- å·¦ä¾§ - ç»„ä»¶åº“
- å·¦ä¾§ - å›¾å±‚
- ä¸­é—´ - ç”»å¸ƒ
- å³ä¾§ - å±æ€§
- å³ä¾§ - é¡µé¢è®¾ç½®

#### åŠŸèƒ½åˆ—è¡¨

é¡¶éƒ¨æ 

- è¿”å›
- æ˜¾ç¤ºæ ‡é¢˜ï¼Œä¿®æ”¹æ ‡é¢˜
- å·¥å…·æ 
  - åˆ é™¤
  - éšè—
  - é”å®š
  - å¤åˆ¶ï¼Œç²˜è´´
  - ä¸Šç§»ï¼Œä¸‹ç§»
  - æ’¤é”€ï¼Œé‡åš
- ä¿å­˜ï¼Œè‡ªåŠ¨ä¿å­˜ï¼Œctrl + s å¿«æ·é”®
- å‘å¸ƒ

å·¦ä¾§ ç»„ä»¶åº“

- æ˜¾ç¤ºç»„ä»¶åˆ—è¡¨
  - ï¼ˆå„ä¸ªç»„ä»¶ï¼Œçœ‹ç³»ç»Ÿï¼‰
- ç‚¹å‡»æ·»åŠ ç»„ä»¶åˆ°ç”»å¸ƒ

å·¦ä¾§ å›¾å±‚

- æ˜¾ç¤ºå›¾å±‚åˆ—è¡¨
- æ‹–æ‹½æ’åº
- å•å‡»ï¼Œé€‰ä¸­
- åŒå‡»ï¼Œä¿®æ”¹æ ‡é¢˜
- éšè—
- é”å®š

ä¸­é—´ ç”»å¸ƒ

- å±•ç¤ºç»„ä»¶åˆ—è¡¨
- Y æ»šåŠ¨æ¡
- æ‹–æ‹½æ’åº
- å•å‡»ï¼Œé€‰ä¸­
- å¿«æ·é”®
  - delete backspace
  - up
  - down
  - ctrl + c , v
  - ctrl + z , ctrl + shift + z
  - ctrl + s ï¼Œä¿å­˜

å³ä¾§ å±æ€§

- ä¿®æ”¹å±æ€§

å³ä¾§ é¡µé¢è®¾ç½®

- æ ‡é¢˜ï¼Œæè¿°
- JS CSS ä»£ç 
- tab è‡ªåŠ¨åˆ‡æ¢

#### ç•Œé¢å¸ƒå±€

- ä¸Šä¸‹å¸ƒå±€
- ä¸‹é¢å·¦ä¸­å³å±€éƒ¨
- ä¸­éƒ¨ï¼Œä¸Šä¸‹å·¦å³å±…ä¸­å¸ƒå±€
- ä¸­éƒ¨èƒ½æ²¿yè½´æ»šåŠ¨

### é¡µé¢ä¸­æ‹–æ‹½æ’åºåŠŸèƒ½çš„å®ç°

ä½¿ç”¨ä»¥ä¸‹ç¬¬ä¸‰æ–¹æ’ä»¶ä¸­çš„ä¸€ç§

- [React-dnd](https://react-dnd.github.io/react-dnd/about)
- [React-beautiful-dnd](https://github.com/atlassian/react-beautiful-dnd)
- [Sortable.js](https://sortablejs.github.io/Sortable/)
- [React-sortable-hoc](https://github.com/clauderic/react-sortable-hoc)
- [Dnd-Kit](https://dndkit.com/)

é€‰æ‹©æ’ä»¶æ—¶ï¼Œè€ƒè™‘ä»¥ä¸‹å†…å®¹

- Github starå¤šï¼Œä»£ç æ›´æ–°åŠæ—¶
- npmä¸Šä¸‹è½½é‡å¤§ï¼Œæœ€è¿‘çš„å‘å¸ƒæ—¶é—´è¾ƒè¿‘
- æ–‡æ¡£å’Œdemoé€šä¿—æ˜“æ‡‚
- æ˜¯å¦å­˜åœ¨ä½œè€…å…¬å¸ƒçš„ä¾‹å¦‚æš‚åœç»´æŠ¤ç­‰ä¿¡æ¯

### æ’¤é”€é‡åšçš„å®ç°åŸç†

#### ä½¿ç”¨ä¸‰ä¸ªå˜é‡è¿›è¡Œå­˜å‚¨

- present : å­˜å‚¨é¡µé¢ä¸­çš„å½“å‰æ•°æ®å€¼
- past : ä¸€ä¸ªæ•°ç»„æ ˆç»“æ„ï¼Œå­˜å‚¨é¡µé¢ä¸­çš„è¿‡å»æ•°æ®å€¼
- future : ä¸€ä¸ªæ•°ç»„æ ˆç»“æ„ï¼Œå­˜å‚¨é¡µé¢ä¸­çš„å°†æ¥æ•°æ®å€¼

#### æ•°æ®çš„æ›´æ–°æµç¨‹

ä»¥ä¸€ä¸ªè¾“å…¥æ¡†ä¸­è¾“å…¥å€¼çš„æ’¤é”€é‡åšä¸ºä¾‹

- æ’¤é”€ : pastå‡ºæ ˆï¼Œfutureå…¥æ ˆï¼Œpresenté‡æ–°è¢«èµ‹å€¼
- é‡åš : futureå‡ºæ ˆï¼Œpastå…¥æ ˆï¼Œpresenté‡æ–°è¢«èµ‹å€¼
- æ‰‹åŠ¨è¾“å…¥æ–°å€¼ : pastå…¥æ ˆï¼Œfutureè¢«æ¸…ç©ºå†…å®¹

#### ä½¿ç”¨å·¥å…·

ä¹Ÿå¯ä»¥ä½¿ç”¨ä¾‹å¦‚[redux-undo](https://www.npmjs.com/package/redux-undo)å·¥å…·ï¼Œæ— éœ€æ‰‹åŠ¨å¯¹æ•°æ®è¿›è¡Œç»´æŠ¤ï¼Œç›´æ¥å¯¹å…¶å°è£…å¥½çš„åŠŸèƒ½è¿›è¡Œä½¿ç”¨å³å¯

### ç»Ÿè®¡é¡µé¢åˆ†æ

#### ç•Œé¢çš„æ¨¡å—

- é¡¶éƒ¨æ 
- å·¦ä¾§ ç»„ä»¶åˆ—è¡¨
- ä¸­é—´ ç­”å·åˆ—è¡¨
- å³ä¾§ å›¾è¡¨ç»Ÿè®¡

#### åŠŸèƒ½åˆ—è¡¨

é¡¶éƒ¨æ 

- è¿”å›
- æ˜¾ç¤ºæ ‡é¢˜
- æ˜¾ç¤º url
- å¤åˆ¶ url
- æ˜¾ç¤ºäºŒç»´ç 
- ç¼–è¾‘é—®å·

å·¦ä¾§ ç»„ä»¶åˆ—è¡¨

- æ˜¾ç¤ºç»„ä»¶åˆ—è¡¨
- ç‚¹å‡»é€‰ä¸­ç»„ä»¶

ä¸­é—´ ç­”å·åˆ—è¡¨

- æ˜¾ç¤ºç­”å·æ•°é‡
- æ˜¾ç¤ºç­”å·è¡¨æ ¼ï¼Œåˆ†é¡µ
- ç‚¹å‡» th é€‰ä¸­ç»„ä»¶

å³ä¾§ å›¾è¡¨ç»Ÿè®¡

- æ ¹æ®é€‰ä¸­çš„ç»„ä»¶ï¼Œæ˜¾ç¤ºå›¾è¡¨ç»Ÿè®¡

### é—®å·ç»Ÿè®¡æ•°æ®ç»“æ„åˆ†æ

**ä¸€ä¸ªé—®å·** å‘å¸ƒäº†ï¼Œç”¨æˆ·æäº¤çš„**ä¸€ä»½ç­”å·**ï¼Œæ•°æ®ç»“æ„å¦‚ä¸‹ï¼š

```js
{
    questionId: '63a51dd42ef26594341e2aff',
    answerList: [
        { componentId: 'c1', value: undefined }, // æ ‡é¢˜ info
        { componentId: 'c2', value: 'å¼ ä¸‰' }, // input
        { componentId: 'c3', value: '13987650099' }, // input
        { componentId: 'c4', value: '1-3å¹´' }, // å•é€‰
        { componentId: 'c5', value: 'Vue2,Vue3' }, // å¤šé€‰
        { componentId: 'c6', value: 'å¤§äº20k' }, // å•é€‰
        { componentId: 'c7', value: 'å¤‡æ³¨xx' } // textarea
    ]
}
```

**ä¸€ä¸ªé—®å·å¯¹åº”å¤šä¸ªç­”å·**ï¼Œæ‰€ä»¥ä¸€ä¸ªé—®å·çš„æ‰€æœ‰ç­”å·åˆ—è¡¨å¦‚ä¸‹ï¼š

```js
[
    // ç”¨æˆ·A
    {
        _id: 'xx',
        c2: 'å¼ ä¸‰',
        c3: '13987650099',
        c4: '1-3å¹´', // å•é€‰
        c5: 'Vue2,Vue3', // å¤šé€‰
        c6: 'å¤§äº20k',
        c7: 'å¤‡æ³¨xx'
    },
    // ç”¨æˆ·B
    {
        _id: 'y',
        c2: 'æå››',
        c3: 'lisi@163.com',
        c4: '3-5å¹´',
        c5: 'Vue2,React',
        c6: '10-20k',
        c7: 'å¤‡æ³¨yy'
    },
    // æ›´å¤šç”¨æˆ·...
]
```

#### å®Œå–„ mock

æ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œå¯ä»¥è®¾ç½® mock

```js
// url `/api/stat/:questionId`
// method `get`
{
    errno: 0,
    data: {
        total: 100, // åˆ†é¡µ
        list: [ /* ä¸Šé¢çš„ç­”å·åˆ—è¡¨ */ ]
    }
}
```

### å›¾è¡¨åˆ†æå·¥å…·

- [React-chartjs-2](https://react-chartjs-2.js.org/)
- [recharts](https://recharts.org/)
- [echarts-for-react](https://www.npmjs.com/package/echarts-for-react)

### æ€§èƒ½ä¼˜åŒ–

#### ä¼˜åŒ–`useState`

- å¦‚æœå‘`useState`ä¸­ä¼ å…¥æ™®é€šå˜é‡,åˆ™`useState`ä¼šåœ¨æ¯æ¬¡ç»„ä»¶æ›´æ–°æ—¶æ‰§è¡Œ
- å¦‚æœä¼ å…¥çš„ä¸ºå‡½æ•°,åˆ™åªä¼šåœ¨ç»„ä»¶åˆå§‹æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡
- ä¼˜åŒ–æ‰‹æ®µé€‚åˆäºæ•°æ®ç»“æ„å¤æ‚,è®¡ç®—æˆæœ¬è¾ƒé«˜çš„åœºæ™¯

```tsx
import { FC, useState } from "react";

// ç”¨äºç”Ÿæˆåˆå§‹çš„arrå˜é‡
function genArr() {
    console.log("genArr...");
    const arr : any[] = [];

    return arr;
}

const Demo: FC = () => {
    // useStateä¸­ä¼ å…¥å‡½æ•°,è¯¥å‡½æ•°åªä¼šåœ¨ç»„ä»¶åˆå§‹æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡
    // ä¸ä¼šè·Ÿéšè¿™ä»¥åæ¯æ¬¡ç»„ä»¶æ›´æ–°æ—¶ç»„ä»¶å‡½æ•°å†æ‰§è¡Œè€Œæ‰§è¡Œ
    const [arr, setArr] = useState(genArr);

    // æ›´æ–°arr
    // è¯¥å‡½æ•°æ¯æ‰§è¡Œä¸€æ¬¡,ä¼šå¯¼è‡´çŠ¶æ€arrçš„å˜åŒ–,å¯¼è‡´ç»„ä»¶çš„æ›´æ–°,ç»„ä»¶å‡½æ•°çš„é‡æ–°æ‰§è¡Œ
    // ä½†æ˜¯genArrå‡½æ•°åªä¼šåœ¨ç»„ä»¶åˆå§‹æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡
    function addStrToArr() {
        setArr([...arr, "hello"]);
    }

    return (
        <>
            <p>length : {arr.length}</p>
            <div>
                <button onClick={addStrToArr}>add</button>
            </div>
        </>
    )
}

export default Demo;
```

#### ä½¿ç”¨`useMemo`

- ç”±äºç»„ä»¶åœ¨æ¯æ¬¡stateæ›´æ–°æ—¶ä¼šè¿›è¡Œæ›´æ–°,ç»„ä»¶å‡½æ•°å†…çš„å…¶å®ƒå‡½æ•°ä¹Ÿä¼šè·Ÿç€æ›´æ–°
- ä½¿ç”¨`useMomo`å¯ä»¥å°†æ•°æ®è¿›è¡Œç¼“å­˜
- é€‚ç”¨äºè®¡ç®—æˆæœ¬è¾ƒé«˜,ä¾èµ–é¡¹ä¸ä¼šç»å¸¸å˜åŒ–çš„åœºæ™¯

#### ä½¿ç”¨`useCallback`

ç±»ä¼¼äº`useMemo`,ç”¨äºç¼“å­˜å‡½æ•°

#### ä½¿ç”¨React.memo

- å½“ä¸€ä¸ªç»„ä»¶å› ä¸ºå…¶stateå‘ç”Ÿå˜åŒ–è€Œè¿›è¡Œæ›´æ–°æ—¶,ä¸ä»…ä¼šå¯¼è‡´å…¶ç»„ä»¶å‡½æ•°å†…çš„å‡½æ•°é‡æ–°æ‰§è¡Œ
- è¿˜ä¼šå¯¼è‡´å…¶å­ç»„ä»¶éšç€è¿›è¡Œæ›´æ–°,æ— è®ºå­ç»„ä»¶çš„propsæ˜¯å¦å˜åŒ–
- å¯ä»¥ä½¿ç”¨React.memoæ§åˆ¶å­ç»„ä»¶çš„æ›´æ–°,å½“å­ç»„ä»¶çš„propså‘ç”Ÿå˜åŒ–æ—¶,å­ç»„ä»¶æ‰è¿›è¡Œæ›´æ–°
  
```tsx
import React, {FC} from "react";

interface ListProps {
  list : [];
}

const List : FC<ListProps> = (props) => {
  console.log("Listç»„ä»¶æ›´æ–°...");

  return (
    <p>Listç»„ä»¶</p>
  )
}

// ä½¿ç”¨React.memo()
export defaut React.moemo(List);
```

#### ä¼˜åŒ–ä»£ç åŒ…ä½“ç§¯(ä¼˜åŒ–main.jsæ–‡ä»¶çš„ä½“ç§¯)

main.jsæ–‡ä»¶ç”¨äºç½‘ç«™é¦–é¡µçš„å±•ç¤º,ä¼˜åŒ–å…¶ä½“ç§¯æœ‰åˆ©äºå‡å°‘é¦–å±æ¸²æŸ“æ—¶é—´

##### ä½¿ç”¨[Analyzing the Bundle Size](https://create-react-app.dev/docs/analyzing-the-bundle-size/)å·¥å…·åˆ†æä»£ç ä½“ç§¯å¤§å°

- å®‰è£…åŒ… : `npm install --save source-map-explorer`
- æ·»åŠ é…ç½®

```json
{
     "scripts": {
        "analyze": "source-map-explorer 'build/static/js/*.js'",
        "start": "react-scripts start",
        "build": "react-scripts build",
        "test": "react-scripts test",
     }
}
```

- æ‰§è¡Œå‘½ä»¤

```shell
npm run build
npm run analyze
```

##### ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½

æ‹†åˆ†é¦–é¡µä¸­åŠ è½½çš„å†…å®¹,è¾ƒå°æ‰“åŒ…åmain.jsæ–‡ä»¶çš„ä½“ç§¯,ä¼˜åŒ–é¦–é¡µä½“ç§¯

æ‹†åˆ†`EditIndex`å’Œ`StatIndex`ç»„ä»¶

```tsx
// import EditIndex from "../pages/question/Edit";
// import StatIndex from "../pages/question/Stat";
import Register from "../pages/Register";

// ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½,å°†EditIndexå’ŒSateIndexç»„ä»¶å•ç‹¬åŠ è½½,ä»æ‰“åŒ…åçš„main.jsæ–‡ä»¶ä¸­æ‹†åˆ†å‡ºæ¥,
// ä¸åœ¨è¿›è¡Œé¦–é¡µçš„æ—¶å€™å°±å°†è¿™ä¸¤ä¸ªè·¯ç”±å¯¹åº”çš„ç»„ä»¶è¿›è¡ŒåŠ è½½, éœ€è¦æ—¶è¿›è¡ŒåŠ è½½
// /*webpackChunkName : EditPage*/åœ¨æ‰“åŒ…åçš„æ–‡ä»¶åä¸­æ·»åŠ EditPageçš„å‰ç¼€,å¢åŠ æ‰“åŒ…åæ–‡ä»¶åçš„å¯è¯»æ€§
const EditIndex = lazy(() => import(/*webpackChunkName : "EditPage"*/ "../pages/question/Edit"));
const StatIndex = lazy(() => import(/*webpackChunkName : "StatPage"*/"../pages/question/Stat"));
```

##### æŠ½ç¦»ç¬¬ä¸‰æ–¹ä»£ç 

ç”±äºç¬¬ä¸‰æ–¹åŒ…ä¸ä¼šç»å¸¸æ›´æ–°(é™¤éåŒ…çš„ç‰ˆæœ¬å‘ç”Ÿå˜åŒ–),å°†package.jsonä¸­è®°å½•çš„å·²å®‰è£…çš„ç¬¬ä¸‰æ–¹åŒ…,åœ¨srcç›®å½•ä¸‹è¢«å¯¼å…¥ä½¿ç”¨çš„åŒ…è¿›è¡ŒæŠ½ç¦»,ä½¿ç”¨æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶,åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚ä¹‹åå°†å…¶ç¼“å­˜åœ¨æœ¬åœ°

ä»¥åçš„åŠ è½½è¿‡ç¨‹ä¸­,åªåŠ è½½srcç›®å½•ä¸‹è‡ªå·±æ‰‹å†™çš„ä»£ç 

```ts
// ä½¿ç”¨cracoæ¥è¦†ç›–åŸcreate-react-appæ„å»ºå·¥å…·ä¸­å¯¹é¡¹ç›®çš„é…ç½®
// https://craco.js.org/
// å®ç°å¯¹äº†ä¾‹å¦‚ESlintã€Babelç­‰é…ç½®çš„è‡ªå®šä¹‰ä¿®æ”¹



// è¦†ç›–webpackä¸­çš„é…ç½®
module.exports = {
    // é…ç½®webpack
    webpack: {
        configure(webpackConfig) {
            // ç”Ÿæˆç¯å¢ƒä¸‹æ‰è¿›è¡Œä»¥ä¸‹ä»£ç æŠ½ç¦»çš„ä¼˜åŒ–
            if (webpackConfig.mode === "production") {
                if (webpackConfig.optimization === null) {
                    webpackConfig.optimization = {};
                };
                webpackConfig.optimization.splitChunks = {
                    chunks: "all",
                    // å¯¹ä»¥ä¸‹çš„åŒ…è¿›è¡ŒæŠ½ç¦»å’Œç¼“å­˜
                    cacheGroups: {
                        // éœ€è¦å•ç‹¬å¤„ç†çš„,ä½“ç§¯è¾ƒå¤§çš„ç¬¬ä¸‰æ–¹åŒ…
                        antd: {
                            name: "antd-chunk",
                            test: /antd/, // å½“åŒ¹é…åˆ°è¯¥è·¯å¾„æ—¶,è¿›è¡ŒæŠ½ç¦»ç¼“å­˜
                            priority :100, // ä¼˜å…ˆçº§
                        },
                        reactDom: {
                            name: "reactDom-chunk",
                            test: /react-dom/, // å½“åŒ¹é…åˆ°è¯¥è·¯å¾„æ—¶,è¿›è¡ŒæŠ½ç¦»ç¼“å­˜
                            priority :99, // ä¼˜å…ˆçº§
                        },

                        // å…¶å®ƒæ‰€æœ‰ä½“ç§¯è¾ƒå°çš„ç¬¬ä¸‰æ–¹åŒ…
                        vendors: {
                            name: "vendors-chunk",
                            test: /node_modules/, // è¯¥é¡¹å…¼å®¹ä»¥ä¸Šä¸¤é¡¹,å› ä¸ºæ‰€æœ‰çš„ç¬¬ä¸‰æ–¹åŒ…éƒ½åœ¨node_modulesç›®å½•ä¸‹
                            priority :98, // ä¼˜å…ˆçº§
                        }
                    }
                }
            }
            return webpackConfig;
        }
    },
   //...
}
```

##### ä¼˜åŒ–åçš„æ•ˆæœ

å°†main.jsæ–‡ä»¶ç”±åŸæ¥çš„1.6Mä¼˜åŒ–ä¸ºç°åœ¨çš„34kb,å‹ç¼©å10kb



### å•å…ƒæµ‹è¯•

ä½¿ç”¨[Jest](https://jestjs.io/)è¿›è¡Œå•å…ƒæµ‹è¯•

#### æµ‹è¯•`QuestionInfo`ç»„ä»¶
